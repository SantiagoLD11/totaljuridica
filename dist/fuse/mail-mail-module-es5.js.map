{"version":3,"sources":["webpack:///src/app/main/apps/mail/dialogs/compose/compose.component.ts","webpack:///src/app/main/apps/mail/dialogs/compose/compose.component.html","webpack:///src/app/main/apps/mail/i18n/en.ts","webpack:///src/app/main/apps/mail/i18n/tr.ts","webpack:///src/app/main/apps/mail/mail-details/mail-details.component.ts","webpack:///src/app/main/apps/mail/mail-details/mail-details.component.html","webpack:///src/app/main/apps/mail/mail-list/mail-list-item/mail-list-item.component.ts","webpack:///src/app/main/apps/mail/mail-list/mail-list-item/mail-list-item.component.html","webpack:///src/app/main/apps/mail/mail-list/mail-list.component.ts","webpack:///src/app/main/apps/mail/mail-list/mail-list.component.html","webpack:///src/app/main/apps/mail/mail.component.ts","webpack:///src/app/main/apps/mail/mail.component.html","webpack:///src/app/main/apps/mail/mail.model.ts","webpack:///src/app/main/apps/mail/mail.module.ts","webpack:///src/app/main/apps/mail/mail.service.ts","webpack:///src/app/main/apps/mail/sidebars/main/main-sidebar.component.ts","webpack:///src/app/main/apps/mail/sidebars/main/main-sidebar.component.html"],"names":["MailComposeDialogComponent","matDialogRef","_data","composeForm","createComposeForm","showExtraToFields","from","value","disabled","to","cc","bcc","subject","message","toggleExtraToFields","selector","templateUrl","styleUrls","encapsulation","None","locale","lang","data","MAIL","COMPOSE","FOLDERS","FILTERS","LABELS","NO_MESSAGES","SELECT_A_MESSAGE_TO_READ","SEARCH_PLACEHOLDER","$event","stopPropagation","MailDetailsComponent","_mailService","showDetails","_unsubscribeAll","onCurrentMailChanged","pipe","subscribe","currentMail","mail","onLabelsChanged","labels","next","complete","event","toggleStar","updateMail","toggleImportant","animations","MailListItemComponent","onSelectedMailsChanged","selectedMails","selected","length","id","toggleSelectedMail","onSelectedChange","MailListComponent","_activatedRoute","_location","onMailsChanged","mails","labelHandle","snapshot","params","filterHandle","folderHandle","go","mailId","setCurrentMail","MailComponent","_fuseSidebarService","_fuseTranslationLoaderService","loadTranslations","searchInput","setTimeout","hasSelectedMails","isIndeterminate","onFoldersChanged","folders","onFiltersChanged","filters","valueChanges","searchText","onSearchTextChanged","toggleSelectAll","filterParameter","filterValue","selectMails","deselectMails","labelId","toggleLabelOnSelectedMails","folderId","setFolderOnSelectedMails","name","getSidebar","toggleOpen","toggleSidebar","Mail","time","read","starred","important","hasAttachments","attachments","folder","routes","path","component","resolve","redirectTo","MailModule","forChild","declarations","imports","providers","entryComponents","MailService","_httpClient","route","state","routeParams","Promise","reject","all","getFolders","getFilters","getLabels","getMails","then","get","response","getMailsByLabel","getMailsByFilter","getMailsByFolder","handle","map","filterArrayByString","index","indexOf","splice","push","find","undefined","filter","post","MailMainSidebarComponent","_matDialog","accounts","creapond","withinpixels","selectedAccount","dialogRef","open","panelClass","afterClosed","actionType","formData","console","log","getRawValue","composeDialog"],"mappings":"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","file":"mail-mail-module-es5.js","sourcesContent":["import { Component, Inject, ViewEncapsulation } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n    selector     : 'mail-compose',\r\n    templateUrl  : './compose.component.html',\r\n    styleUrls    : ['./compose.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MailComposeDialogComponent\r\n{\r\n    showExtraToFields: boolean;\r\n    composeForm: FormGroup;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {MatDialogRef<MailComposeDialogComponent>} matDialogRef\r\n     * @param _data\r\n     */\r\n    constructor(\r\n        public matDialogRef: MatDialogRef<MailComposeDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) private _data: any\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.composeForm = this.createComposeForm();\r\n        this.showExtraToFields = false;\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Create compose form\r\n     *\r\n     * @returns {FormGroup}\r\n     */\r\n    createComposeForm(): FormGroup\r\n    {\r\n        return new FormGroup({\r\n            from   : new FormControl({\r\n                value   : 'johndoe@creapond.com',\r\n                disabled: true\r\n            }),\r\n            to     : new FormControl(''),\r\n            cc     : new FormControl(''),\r\n            bcc    : new FormControl(''),\r\n            subject: new FormControl(''),\r\n            message: new FormControl('')\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Toggle extra to fields\r\n     */\r\n    toggleExtraToFields(): void\r\n    {\r\n        this.showExtraToFields = !this.showExtraToFields;\r\n    }\r\n}\r\n","<div class=\"dialog-content-wrapper\">\r\n    <mat-toolbar class=\"mat-accent m-0\">\r\n        <mat-toolbar-row fxFlex fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n            <span class=\"title dialog-title\">New Message</span>\r\n            <button mat-icon-button (click)=\"matDialogRef.close()\" aria-label=\"Close dialog\">\r\n                <mat-icon>close</mat-icon>\r\n            </button>\r\n        </mat-toolbar-row>\r\n    </mat-toolbar>\r\n\r\n    <div mat-dialog-content class=\"p-24 m-0\" fusePerfectScrollbar>\r\n\r\n        <form name=\"composeForm\" [formGroup]=\"composeForm\" class=\"compose-form\" fxLayout=\"column\" fxFlex>\r\n\r\n            <mat-form-field appearance=\"outline\">\r\n                <mat-label>From</mat-label>\r\n                <input matInput name=\"from\"\r\n                       formControlName=\"from\"\r\n                       type=\"email\">\r\n            </mat-form-field>\r\n\r\n            <div class=\"show-hide-extra-fields\" (click)=\"toggleExtraToFields()\">\r\n                <span [fxShow]=\"!showExtraToFields\">Show CC & BCC</span>\r\n                <span [fxShow]=\"showExtraToFields\">Hide CC & BCC</span>\r\n            </div>\r\n\r\n            <mat-form-field appearance=\"outline\">\r\n                <mat-label>To</mat-label>\r\n                <input matInput name=\"to\"\r\n                       formControlName=\"to\"\r\n                       type=\"email\" required>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"outline\" [fxShow]=\"showExtraToFields\">\r\n                <mat-label>Cc</mat-label>\r\n                <input matInput\r\n                       name=\"cc\"\r\n                       formControlName=\"cc\"\r\n                       type=\"email\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"outline\" [fxShow]=\"showExtraToFields\">\r\n                <mat-label>Bcc</mat-label>\r\n                <input matInput\r\n                       name=\"bcc\"\r\n                       formControlName=\"bcc\"\r\n                       type=\"email\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"outline\">\r\n                <mat-label>Subject</mat-label>\r\n                <input matInput name=\"subject\"\r\n                       formControlName=\"subject\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"outline\">\r\n                <mat-label>Message</mat-label>\r\n                <textarea matInput name=\"message\"\r\n                          formControlName=\"message\"\r\n                          rows=\"6\">\r\n                </textarea>\r\n            </mat-form-field>\r\n\r\n            <div class=\"attachment-list\">\r\n\r\n                <div class=\"attachment\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                    <div>\r\n                        <span class=\"filename\">attachment-2.doc</span>\r\n                        <span class=\"size ml-4\">(12 Kb)</span>\r\n                    </div>\r\n\r\n                    <button mat-icon-button aria-label=\"Delete attachment\">\r\n                        <mat-icon class=\"s-16\">close</mat-icon>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"attachment\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                    <div>\r\n                        <span class=\"filename\">attachment-1.jpg</span>\r\n                        <span class=\"size ml-4\">(350 Kb)</span>\r\n                    </div>\r\n\r\n                    <button mat-icon-button aria-label=\"Delete attachment\">\r\n                        <mat-icon class=\"s-16\">close</mat-icon>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n\r\n    <div mat-dialog-actions class=\"m-0 p-16\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <div>\r\n            <button mat-raised-button\r\n                    color=\"accent\"\r\n                    (click)=\"matDialogRef.close(['send',composeForm])\"\r\n                    class=\"save-button\"\r\n                    [disabled]=\"composeForm.invalid\"\r\n                    aria-label=\"SAVE\">\r\n                SEND\r\n            </button>\r\n\r\n            <button mat-icon-button matTooltip=\"Attach a file\">\r\n                <mat-icon>attach_file</mat-icon>\r\n            </button>\r\n        </div>\r\n\r\n        <button mat-icon-button (click)=\"matDialogRef.close(['delete',composeForm])\"\r\n                aria-label=\"Delete\"\r\n                matTooltip=\"Delete\">\r\n            <mat-icon>delete</mat-icon>\r\n        </button>\r\n    </div>\r\n</div>\r\n","export const locale = {\r\n    lang: 'en',\r\n    data: {\r\n        MAIL: {\r\n            COMPOSE                 : 'COMPOSE',\r\n            FOLDERS                 : 'FOLDERS',\r\n            FILTERS                 : 'FILTERS',\r\n            LABELS                  : 'LABELS',\r\n            NO_MESSAGES             : 'There are no messages!',\r\n            SELECT_A_MESSAGE_TO_READ: 'Select a message to read',\r\n            SEARCH_PLACEHOLDER      : 'Search for an e-mail or contact'\r\n        }\r\n    }\r\n};\r\n","export const locale = {\r\n    lang: 'tr',\r\n    data: {\r\n        MAIL: {\r\n            COMPOSE                 : 'YENİ E-POSTA',\r\n            FOLDERS                 : 'KLASÖRLER',\r\n            FILTERS                 : 'FİLTRELER',\r\n            LABELS                  : 'ETİKETLER',\r\n            NO_MESSAGES             : 'Mesajiniz bulunmamakta!',\r\n            SELECT_A_MESSAGE_TO_READ: 'Okumak için bir mesaj seçin',\r\n            SEARCH_PLACEHOLDER      : 'E-mail yada bir kişi arayın'\r\n        }\r\n    }\r\n};\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\nimport { Mail } from 'app/main/apps/mail/mail.model';\r\nimport { MailService } from 'app/main/apps/mail/mail.service';\r\n\r\n@Component({\r\n    selector     : 'mail-details',\r\n    templateUrl  : './mail-details.component.html',\r\n    styleUrls    : ['./mail-details.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class MailDetailsComponent implements OnInit, OnDestroy\r\n{\r\n    mail: Mail;\r\n    labels: any[];\r\n    showDetails: boolean;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {MailService} _mailService\r\n     */\r\n    constructor(\r\n        private _mailService: MailService\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.showDetails = false;\r\n\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        // Subscribe to update the current mail\r\n        this._mailService.onCurrentMailChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(currentMail => {\r\n                this.mail = currentMail;\r\n            });\r\n\r\n        // Subscribe to update on label change\r\n        this._mailService.onLabelsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(labels => {\r\n                this.labels = labels;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Toggle star\r\n     *\r\n     * @param event\r\n     */\r\n    toggleStar(event): void\r\n    {\r\n        event.stopPropagation();\r\n\r\n        this.mail.toggleStar();\r\n\r\n        this._mailService.updateMail(this.mail);\r\n    }\r\n\r\n    /**\r\n     * Toggle important\r\n     *\r\n     * @param event\r\n     */\r\n    toggleImportant(event): void\r\n    {\r\n        event.stopPropagation();\r\n\r\n        this.mail.toggleImportant();\r\n\r\n        this._mailService.updateMail(this.mail);\r\n    }\r\n}\r\n","<div *ngIf=\"!mail\" fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlex>\r\n    <mat-icon class=\"s-128 mb-16 select-message-icon hint-text\"\r\n              [@animate]=\"{value:'*',params:{delay:'300ms',scale:'0.2'}}\">\r\n        email\r\n    </mat-icon>\r\n    <span class=\"select-message-text hint-text\" [@animate]=\"{value:'*',params:{delay:'400ms'}}\">\r\n        <span>{{ 'MAIL.SELECT_A_MESSAGE_TO_READ' | translate }}</span>\r\n    </span>\r\n</div>\r\n\r\n<div *ngIf=\"mail\">\r\n\r\n    <div class=\"mail-header\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n\r\n        <div>\r\n            <div class=\"subject\">{{mail.subject}}</div>\r\n\r\n            <div class=\"labels mt-8\" fxLayout=\"row wrap\">\r\n                <div class=\"label\" *ngFor=\"let labelId of mail.labels\"\r\n                     fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <div class=\"label-color\" [ngStyle]=\"{'background-color': labels | getById:labelId:'color'}\"></div>\r\n                    <div class=\"label-title\">{{labels | getById:labelId:'title'}}</div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"actions\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <button mat-icon-button (click)=\"toggleStar($event)\" aria-label=\"Toggle star\">\r\n                <mat-icon class=\"amber-fg\" *ngIf=\"mail.starred\">star</mat-icon>\r\n                <mat-icon class=\"secondary-text\" *ngIf=\"!mail.starred\">star_border</mat-icon>\r\n            </button>\r\n\r\n            <button mat-icon-button (click)=\"toggleImportant($event)\" aria-label=\"Toggle important\">\r\n                <mat-icon class=\"red-fg\" *ngIf=\"mail.important\">label</mat-icon>\r\n                <mat-icon class=\"secondary-text\" *ngIf=\"!mail.important\">label_outline</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"mail-content\">\r\n\r\n        <div class=\"info\" fxLayout=\"row\" fxLayoutAlign=\"space-between start\">\r\n\r\n            <div fxFlex fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n\r\n                    <div>\r\n                        <img *ngIf=\"mail.from.avatar\" alt=\"{{mail.from.name}}\"\r\n                             src=\"{{mail.from.avatar}}\" class=\"avatar\"/>\r\n\r\n                        <div *ngIf=\"!mail.from.avatar\" class=\"avatar\" ms-random-class=\"vm.colors\">\r\n                            {{mail.from.name[0]}}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n\r\n                        <div class=\"name\">\r\n                            {{mail.from.name}}\r\n                        </div>\r\n\r\n                        <div class=\"to\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                            <div class=\"to-text\">to</div>\r\n                            <div>{{mail.to[0].name}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <a class=\"toggle-details\" (click)=\"showDetails = !showDetails\">\r\n                    <span *ngIf=\"!showDetails\">Show Details</span>\r\n                    <span *ngIf=\"showDetails\">Hide Details</span>\r\n                </a>\r\n\r\n                <div *ngIf=\"showDetails\" class=\"details\" fxLayout=\"row\" fxLayoutAlign=\"start start\">\r\n\r\n                    <div fxLayout=\"column\">\r\n                        <span class=\"title\">From:</span>\r\n                        <span class=\"title\">To:</span>\r\n                        <span class=\"title\">Date:</span>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"column\">\r\n                        <span class=\"detail\">{{mail.from.email}}</span>\r\n                        <span class=\"detail\">{{mail.to[0].email}}</span>\r\n                        <span class=\"detail\">{{mail.time}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <button mat-icon-button [matMenuTriggerFor]=\"moreMenu\" aria-label=\"More\" (click)=\"$event.stopPropagation()\">\r\n                <mat-icon>more_vert</mat-icon>\r\n            </button>\r\n\r\n            <mat-menu #moreMenu=\"matMenu\">\r\n                <button mat-menu-item aria-label=\"Reply\">\r\n                    <mat-icon>reply</mat-icon>\r\n                    <span>Reply</span>\r\n                </button>\r\n\r\n                <button mat-menu-item aria-label=\"Forward\">\r\n                    <mat-icon>forward</mat-icon>\r\n                    <span>Forward</span>\r\n                </button>\r\n\r\n                <button mat-menu-item aria-label=\"Print\">\r\n                    <mat-icon>print</mat-icon>\r\n                    <span>Print</span>\r\n                </button>\r\n            </mat-menu>\r\n        </div>\r\n\r\n        <div [innerHTML]=\"mail.message\"></div>\r\n\r\n    </div>\r\n\r\n    <div *ngIf=\"mail.attachments\" class=\"mail-attachments\">\r\n\r\n        <div class=\"title\">\r\n            <span>Attachments</span>\r\n            ({{mail.attachments.length}})\r\n        </div>\r\n\r\n        <div class=\"attachment-list\" fxLayout=\"row wrap\">\r\n\r\n            <div class=\"attachment\" fxLayout=\"column\"\r\n                 *ngFor=\"let attachment of mail.attachments\">\r\n\r\n                <img class=\"preview\" src=\"{{attachment.preview}}\">\r\n\r\n                <div fxLayout=\"column\">\r\n                    <a href=\"#\" onclick=\"event.preventDefault()\">View</a>\r\n                    <a href=\"#\" onclick=\"event.preventDefault()\">Download</a>\r\n                    <div class=\"size\">({{attachment.size}})</div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, HostBinding, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { Mail } from 'app/main/apps/mail/mail.model';\r\nimport { MailService } from 'app/main/apps/mail/mail.service';\r\n\r\n@Component({\r\n    selector     : 'mail-list-item',\r\n    templateUrl  : './mail-list-item.component.html',\r\n    styleUrls    : ['./mail-list-item.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MailListItemComponent implements OnInit, OnDestroy\r\n{\r\n    @Input() mail: Mail;\r\n    labels: any[];\r\n\r\n    @HostBinding('class.selected')\r\n    selected: boolean;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {MailService} _mailService\r\n     */\r\n    constructor(\r\n        private _mailService: MailService\r\n    )\r\n    {\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        // Set the initial values\r\n        this.mail = new Mail(this.mail);\r\n\r\n        // Subscribe to update on selected mail change\r\n        this._mailService.onSelectedMailsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(selectedMails => {\r\n                this.selected = false;\r\n\r\n                if ( selectedMails.length > 0 )\r\n                {\r\n                    for ( const mail of selectedMails )\r\n                    {\r\n                        if ( mail.id === this.mail.id )\r\n                        {\r\n                            this.selected = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        // Subscribe to update on label change\r\n        this._mailService.onLabelsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(labels => {\r\n                this.labels = labels;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On selected change\r\n     */\r\n    onSelectedChange(): void\r\n    {\r\n        this._mailService.toggleSelectedMail(this.mail.id);\r\n    }\r\n\r\n    /**\r\n     * Toggle star\r\n     *\r\n     * @param event\r\n     */\r\n    toggleStar(event): void\r\n    {\r\n        event.stopPropagation();\r\n\r\n        this.mail.toggleStar();\r\n\r\n        this._mailService.updateMail(this.mail);\r\n    }\r\n\r\n    /**\r\n     * Toggle Important\r\n     *\r\n     * @param event\r\n     */\r\n    toggleImportant(event): void\r\n    {\r\n        event.stopPropagation();\r\n\r\n        this.mail.toggleImportant();\r\n\r\n        this._mailService.updateMail(this.mail);\r\n    }\r\n}\r\n","<div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n    <mat-checkbox [(ngModel)]=\"selected\" (ngModelChange)=\"onSelectedChange()\"\r\n                  (click)=\"$event.stopPropagation();\"></mat-checkbox>\r\n\r\n    <div class=\"info\" fxFlex FlexLayout=\"column\">\r\n\r\n        <div class=\"row-1\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n            <div class=\"name\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\r\n                <img class=\"avatar\" *ngIf=\"mail.from?.avatar\" alt=\"{{mail.from?.name}}\" src=\"{{mail.from?.avatar}}\"/>\r\n                <div class=\"avatar accent\" *ngIf=\"!mail.from?.avatar\">{{mail.from?.name[0]}}</div>\r\n                <span class=\"text-truncate\" *ngIf=\"mail?.from\">{{mail.from?.name}}</span>\r\n                <mat-icon class=\"s-16 ml-8\" *ngIf=\"mail.hasAttachments\">attachment</mat-icon>\r\n            </div>\r\n\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                <div class=\"time\">{{mail.time}}</div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"row-2\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n            <div fxLayout=\"column\" fxLayoutAlign=\"start start\">\r\n\r\n                <div class=\"subject text-truncate\">\r\n                    {{mail.subject}}\r\n                </div>\r\n\r\n                <div class=\"message text-truncate\" *ngIf=\"mail?.message\">\r\n                    {{mail.message | htmlToPlaintext | slice:0:180}}{{mail.message.length > 180 ? '...' : ''}}\r\n                </div>\r\n\r\n                <div class=\"labels\" fxLayout=\"row wrap\" fxHide fxShow.gt-sm>\r\n                    <div class=\"label\" *ngFor=\"let labelId of mail.labels\"\r\n                         fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                        <div class=\"label-color\"\r\n                             [ngStyle]=\"{'background-color': labels | getById:labelId:'color'}\"></div>\r\n                        <div class=\"label-title\">{{labels | getById:labelId:'title'}}</div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\nimport { Mail } from 'app/main/apps/mail/mail.model';\r\nimport { MailService } from 'app/main/apps/mail/mail.service';\r\n\r\n@Component({\r\n    selector     : 'mail-list',\r\n    templateUrl  : './mail-list.component.html',\r\n    styleUrls    : ['./mail-list.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class MailListComponent implements OnInit, OnDestroy\r\n{\r\n    mails: Mail[];\r\n    currentMail: Mail;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {ActivatedRoute} _activatedRoute\r\n     * @param {MailService} _mailService\r\n     * @param {Location} _location\r\n     */\r\n    constructor(\r\n        private _activatedRoute: ActivatedRoute,\r\n        private _mailService: MailService,\r\n        private _location: Location\r\n    )\r\n    {\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        // Subscribe to update mails on changes\r\n        this._mailService.onMailsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(mails => {\r\n                this.mails = mails;\r\n            });\r\n\r\n        // Subscribe to update current mail on changes\r\n        this._mailService.onCurrentMailChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(currentMail => {\r\n                if ( !currentMail )\r\n                {\r\n                    // Set the current mail id to null to deselect the current mail\r\n                    this.currentMail = null;\r\n\r\n                    // Handle the location changes\r\n                    const labelHandle  = this._activatedRoute.snapshot.params.labelHandle,\r\n                          filterHandle = this._activatedRoute.snapshot.params.filterHandle,\r\n                          folderHandle = this._activatedRoute.snapshot.params.folderHandle;\r\n\r\n                    if ( labelHandle )\r\n                    {\r\n                        this._location.go('apps/mail/label/' + labelHandle);\r\n                    }\r\n                    else if ( filterHandle )\r\n                    {\r\n                        this._location.go('apps/mail/filter/' + filterHandle);\r\n                    }\r\n                    else\r\n                    {\r\n                        this._location.go('apps/mail/' + folderHandle);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    this.currentMail = currentMail;\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Read mail\r\n     *\r\n     * @param mailId\r\n     */\r\n    readMail(mailId): void\r\n    {\r\n        const labelHandle  = this._activatedRoute.snapshot.params.labelHandle,\r\n              filterHandle = this._activatedRoute.snapshot.params.filterHandle,\r\n              folderHandle = this._activatedRoute.snapshot.params.folderHandle;\r\n\r\n        if ( labelHandle )\r\n        {\r\n            this._location.go('apps/mail/label/' + labelHandle + '/' + mailId);\r\n        }\r\n        else if ( filterHandle )\r\n        {\r\n            this._location.go('apps/mail/filter/' + filterHandle + '/' + mailId);\r\n        }\r\n        else\r\n        {\r\n            this._location.go('apps/mail/' + folderHandle + '/' + mailId);\r\n        }\r\n\r\n        // Set current mail\r\n        this._mailService.setCurrentMail(mailId);\r\n    }\r\n}\r\n","<div *ngIf=\"mails.length === 0\" fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlexFill>\r\n    <span class=\"no-messages-text hint-text\">{{ 'MAIL.NO_MESSAGES' | translate }}</span>\r\n</div>\r\n\r\n<div class=\"mail-list\" [@animateStagger]=\"{value:'50'}\">\r\n    <mail-list-item *ngFor=\"let mail of mails\" [mail]=\"mail\" (click)=\"readMail(mail.id)\"\r\n                    [ngClass]=\"{'current-mail':mail?.id == currentMail?.id}\"\r\n                    [@animate]=\"{value:'*',params:{y:'100%'}}\">\r\n    </mail-list-item>\r\n</div>\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\nimport { FuseSidebarService } from '@fuse/components/sidebar/sidebar.service';\r\nimport { FuseTranslationLoaderService } from '@fuse/services/translation-loader.service';\r\n\r\nimport { Mail } from 'app/main/apps/mail/mail.model';\r\nimport { MailService } from 'app/main/apps/mail/mail.service';\r\n\r\nimport { locale as english } from 'app/main/apps/mail//i18n/en';\r\nimport { locale as turkish } from 'app/main/apps/mail//i18n/tr';\r\n\r\n@Component({\r\n    selector     : 'mail',\r\n    templateUrl  : './mail.component.html',\r\n    styleUrls    : ['./mail.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MailComponent implements OnInit, OnDestroy\r\n{\r\n    hasSelectedMails: boolean;\r\n    isIndeterminate: boolean;\r\n    folders: any[];\r\n    filters: any[];\r\n    labels: any[];\r\n    searchInput: FormControl;\r\n    currentMail: Mail;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {MailService} _mailService\r\n     * @param {FuseSidebarService} _fuseSidebarService\r\n     * @param {FuseTranslationLoaderService} _fuseTranslationLoaderService\r\n     */\r\n    constructor(\r\n        private _mailService: MailService,\r\n        private _fuseSidebarService: FuseSidebarService,\r\n        private _fuseTranslationLoaderService: FuseTranslationLoaderService\r\n    )\r\n    {\r\n        // Load the translations\r\n        this._fuseTranslationLoaderService.loadTranslations(english, turkish);\r\n\r\n        // Set the defaults\r\n        this.searchInput = new FormControl('');\r\n\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this._mailService.onSelectedMailsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(selectedMails => {\r\n                setTimeout(() => {\r\n                    this.hasSelectedMails = selectedMails.length > 0;\r\n                    this.isIndeterminate = (selectedMails.length !== this._mailService.mails.length && selectedMails.length > 0);\r\n                }, 0);\r\n            });\r\n\r\n        this._mailService.onFoldersChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(folders => {\r\n                this.folders = this._mailService.folders;\r\n            });\r\n\r\n        this._mailService.onFiltersChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(folders => {\r\n                this.filters = this._mailService.filters;\r\n            });\r\n\r\n        this._mailService.onLabelsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(labels => {\r\n                this.labels = this._mailService.labels;\r\n            });\r\n\r\n        this._mailService.onCurrentMailChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(currentMail => {\r\n                if ( !currentMail )\r\n                {\r\n                    this.currentMail = null;\r\n                }\r\n                else\r\n                {\r\n                    this.currentMail = currentMail;\r\n                }\r\n            });\r\n\r\n        this.searchInput.valueChanges.pipe(\r\n            takeUntil(this._unsubscribeAll),\r\n            debounceTime(300),\r\n            distinctUntilChanged()\r\n        )\r\n            .subscribe(searchText => {\r\n                this._mailService.onSearchTextChanged.next(searchText);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Toggle select all\r\n     */\r\n    toggleSelectAll(): void\r\n    {\r\n        this._mailService.toggleSelectAll();\r\n    }\r\n\r\n    /**\r\n     * Select mails\r\n     *\r\n     * @param filterParameter\r\n     * @param filterValue\r\n     */\r\n    selectMails(filterParameter?, filterValue?): void\r\n    {\r\n        this._mailService.selectMails(filterParameter, filterValue);\r\n    }\r\n\r\n    /**\r\n     * Deselect mails\r\n     */\r\n    deselectMails(): void\r\n    {\r\n        this._mailService.deselectMails();\r\n    }\r\n\r\n    /**\r\n     * Deselect current mail\r\n     */\r\n    deselectCurrentMail(): void\r\n    {\r\n        this._mailService.onCurrentMailChanged.next(null);\r\n    }\r\n\r\n    /**\r\n     * Toggle label on selected mails\r\n     *\r\n     * @param labelId\r\n     */\r\n    toggleLabelOnSelectedMails(labelId): void\r\n    {\r\n        this._mailService.toggleLabelOnSelectedMails(labelId);\r\n    }\r\n\r\n    /**\r\n     * Set folder on selected mails\r\n     *\r\n     * @param folderId\r\n     */\r\n    setFolderOnSelectedMails(folderId): void\r\n    {\r\n        this._mailService.setFolderOnSelectedMails(folderId);\r\n    }\r\n\r\n    /**\r\n     * Toggle the sidebar\r\n     *\r\n     * @param name\r\n     */\r\n    toggleSidebar(name): void\r\n    {\r\n        this._fuseSidebarService.getSidebar(name).toggleOpen();\r\n    }\r\n}\r\n","<div id=\"mail\" class=\"page-layout carded left-sidebar inner-scroll\">\r\n\r\n    <!-- TOP BACKGROUND -->\r\n    <div class=\"top-bg accent\"></div>\r\n    <!-- / TOP BACKGROUND -->\r\n\r\n    <!-- SIDEBAR -->\r\n    <fuse-sidebar class=\"sidebar\" name=\"mail-main-sidebar\" position=\"left\" lockedOpen=\"gt-md\">\r\n        <mail-main-sidebar></mail-main-sidebar>\r\n    </fuse-sidebar>\r\n    <!-- / SIDEBAR -->\r\n\r\n    <!-- CENTER -->\r\n    <div class=\"center\">\r\n\r\n        <!-- CONTENT HEADER -->\r\n        <div class=\"header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n            <div class=\"search-wrapper\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\r\n                <button mat-icon-button class=\"sidebar-toggle\" fxHide.gt-md\r\n                        (click)=\"toggleSidebar('mail-main-sidebar')\">\r\n                    <mat-icon>menu</mat-icon>\r\n                </button>\r\n\r\n                <div class=\"search\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-icon class=\"secondary-text\">search</mat-icon>\r\n                    <input [formControl]=\"searchInput\" [placeholder]=\"'MAIL.SEARCH_PLACEHOLDER' | translate\" fxFlex>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <!-- / CONTENT HEADER -->\r\n\r\n        <!-- CONTENT CARD -->\r\n        <div class=\"content-card\" [ngClass]=\"{'current-mail-selected':currentMail}\">\r\n\r\n            <!-- CONTENT TOOLBAR -->\r\n            <div class=\"toolbar px-24 py-8\">\r\n\r\n                <div class=\"mail-selection\" fxFlex=\"row\" fxLayoutAlign=\"start center\">\r\n                    <mat-checkbox (click)=\"toggleSelectAll()\" [checked]=\"hasSelectedMails\"\r\n                                  [indeterminate]=\"isIndeterminate\"></mat-checkbox>\r\n\r\n                    <button mat-icon-button [matMenuTriggerFor]=\"selectMenu\">\r\n                        <mat-icon>arrow_drop_down</mat-icon>\r\n                    </button>\r\n                    <mat-menu #selectMenu=\"matMenu\">\r\n                        <button mat-menu-item (click)=\"selectMails()\">All</button>\r\n                        <button mat-menu-item (click)=\"deselectMails()\">None</button>\r\n                        <button mat-menu-item (click)=\"selectMails('read', true)\">Read</button>\r\n                        <button mat-menu-item (click)=\"selectMails('read', false)\">Unread</button>\r\n                        <button mat-menu-item (click)=\"selectMails('starred', true)\">Starred</button>\r\n                        <button mat-menu-item (click)=\"selectMails('starred', false)\">Unstarred</button>\r\n                        <button mat-menu-item (click)=\"selectMails('important', true)\">Important</button>\r\n                        <button mat-menu-item (click)=\"selectMails('important', false)\">Unimportant</button>\r\n                    </mat-menu>\r\n\r\n                    <div class=\"toolbar-separator\" *ngIf=\"hasSelectedMails\"></div>\r\n\r\n                    <button mat-icon-button (click)=\"setFolderOnSelectedMails(4)\" *ngIf=\"hasSelectedMails\">\r\n                        <mat-icon class=\"secondary-text\">delete</mat-icon>\r\n                    </button>\r\n\r\n                    <button mat-icon-button [matMenuTriggerFor]=\"folderMenu\" *ngIf=\"hasSelectedMails\">\r\n                        <mat-icon class=\"secondary-text\">folder</mat-icon>\r\n                    </button>\r\n                    <mat-menu #folderMenu=\"matMenu\">\r\n                        <button mat-menu-item *ngFor=\"let folder of folders\"\r\n                                (click)=\"setFolderOnSelectedMails(folder.id)\">{{folder.title}}\r\n                        </button>\r\n                    </mat-menu>\r\n\r\n                    <button mat-icon-button [matMenuTriggerFor]=\"labelMenu\" *ngIf=\"hasSelectedMails\">\r\n                        <mat-icon class=\"secondary-text\">label</mat-icon>\r\n                    </button>\r\n                    <mat-menu #labelMenu=\"matMenu\">\r\n                        <button mat-menu-item *ngFor=\"let label of labels\"\r\n                                (click)=\"toggleLabelOnSelectedMails(label.id)\">{{label.title}}\r\n                        </button>\r\n                    </mat-menu>\r\n                </div>\r\n\r\n                <div *ngIf=\"currentMail\" fxHide.gt-xs>\r\n                    <button mat-icon-button (click)=\"deselectCurrentMail()\">\r\n                        <mat-icon class=\"secondary-text\">arrow_back</mat-icon>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <!-- / CONTENT TOOLBAR -->\r\n\r\n            <!-- CONTENT -->\r\n            <div class=\"content\" fxLayout=\"row\">\r\n\r\n                <mail-list fusePerfectScrollbar fxFlex></mail-list>\r\n                <mail-details fusePerfectScrollbar fxFlex></mail-details>\r\n\r\n            </div>\r\n            <!-- / CONTENT -->\r\n\r\n        </div>\r\n        <!-- / CONTENT CARD -->\r\n\r\n    </div>\r\n    <!-- / CENTER -->\r\n\r\n</div>\r\n","export class Mail\r\n{\r\n    id: string;\r\n    from: {\r\n        name: string,\r\n        avatar: string,\r\n        email: string\r\n    };\r\n    to: {\r\n        name: string,\r\n        email: string\r\n    }[];\r\n    subject: string;\r\n    message: string;\r\n    time: string;\r\n    read: boolean;\r\n    starred: boolean;\r\n    important: boolean;\r\n    hasAttachments: boolean;\r\n    attachments: {\r\n        type: string,\r\n        fileName: string,\r\n        preview: string,\r\n        url: string,\r\n        size: string\r\n    }[];\r\n    labels: string[];\r\n    folder: string;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param mail\r\n     */\r\n    constructor(mail)\r\n    {\r\n        this.id = mail.id;\r\n        this.from = mail.from;\r\n        this.to = mail.to;\r\n        this.subject = mail.subject;\r\n        this.message = mail.message;\r\n        this.time = mail.time;\r\n        this.read = mail.read;\r\n        this.starred = mail.starred;\r\n        this.important = mail.important;\r\n        this.hasAttachments = mail.hasAttachments;\r\n        this.attachments = mail.attachments;\r\n        this.labels = mail.labels;\r\n        this.folder = mail.folder;\r\n    }\r\n\r\n    /**\r\n     * Toggle star\r\n     */\r\n    toggleStar(): void\r\n    {\r\n        this.starred = !this.starred;\r\n    }\r\n\r\n    /**\r\n     * Toggle important\r\n     */\r\n    toggleImportant(): void\r\n    {\r\n        this.important = !this.important;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { FuseSharedModule } from '@fuse/shared.module';\r\nimport { FuseSidebarModule } from '@fuse/components';\r\n\r\nimport { MailService } from 'app/main/apps/mail/mail.service';\r\nimport { MailComponent } from 'app/main/apps/mail/mail.component';\r\nimport { MailListComponent } from 'app/main/apps/mail/mail-list/mail-list.component';\r\nimport { MailListItemComponent } from 'app/main/apps/mail/mail-list/mail-list-item/mail-list-item.component';\r\nimport { MailDetailsComponent } from 'app/main/apps/mail/mail-details/mail-details.component';\r\nimport { MailMainSidebarComponent } from 'app/main/apps/mail/sidebars/main/main-sidebar.component';\r\nimport { MailComposeDialogComponent } from 'app/main/apps/mail/dialogs/compose/compose.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path     : 'label/:labelHandle',\r\n        component: MailComponent,\r\n        resolve  : {\r\n            mail: MailService\r\n        }\r\n    },\r\n    {\r\n        path     : 'label/:labelHandle/:mailId',\r\n        component: MailComponent,\r\n        resolve  : {\r\n            mail: MailService\r\n        }\r\n    },\r\n    {\r\n        path     : 'filter/:filterHandle',\r\n        component: MailComponent,\r\n        resolve  : {\r\n            mail: MailService\r\n        }\r\n    },\r\n    {\r\n        path     : 'filter/:filterHandle/:mailId',\r\n        component: MailComponent,\r\n        resolve  : {\r\n            mail: MailService\r\n        }\r\n    },\r\n    {\r\n        path     : ':folderHandle',\r\n        component: MailComponent,\r\n        resolve  : {\r\n            mail: MailService\r\n        }\r\n    },\r\n    {\r\n        path     : ':folderHandle/:mailId',\r\n        component: MailComponent,\r\n        resolve  : {\r\n            mail: MailService\r\n        }\r\n    },\r\n    {\r\n        path      : '**',\r\n        redirectTo: 'inbox'\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    declarations   : [\r\n        MailComponent,\r\n        MailListComponent,\r\n        MailListItemComponent,\r\n        MailDetailsComponent,\r\n        MailMainSidebarComponent,\r\n        MailComposeDialogComponent\r\n    ],\r\n    imports        : [\r\n        RouterModule.forChild(routes),\r\n\r\n        MatButtonModule,\r\n        MatCheckboxModule,\r\n        MatDialogModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatMenuModule,\r\n        MatRippleModule,\r\n        MatSelectModule,\r\n        MatToolbarModule,\r\n\r\n        TranslateModule,\r\n\r\n        FuseSharedModule,\r\n        FuseSidebarModule\r\n    ],\r\n    providers      : [\r\n        MailService\r\n    ],\r\n    entryComponents: [\r\n        MailComposeDialogComponent\r\n    ]\r\n})\r\nexport class MailModule\r\n{\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nimport { FuseUtils } from '@fuse/utils';\r\n\r\nimport { Mail } from 'app/main/apps/mail/mail.model';\r\n\r\n@Injectable()\r\nexport class MailService implements Resolve<any>\r\n{\r\n    mails: Mail[];\r\n    selectedMails: Mail[];\r\n    currentMail: Mail;\r\n    searchText = '';\r\n\r\n    folders: any[];\r\n    filters: any[];\r\n    labels: any[];\r\n    routeParams: any;\r\n\r\n    onMailsChanged: BehaviorSubject<any>;\r\n    onSelectedMailsChanged: BehaviorSubject<any>;\r\n    onCurrentMailChanged: BehaviorSubject<any>;\r\n    onFoldersChanged: BehaviorSubject<any>;\r\n    onFiltersChanged: BehaviorSubject<any>;\r\n    onLabelsChanged: BehaviorSubject<any>;\r\n    onSearchTextChanged: BehaviorSubject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {HttpClient} _httpClient\r\n     */\r\n    constructor(\r\n        private _httpClient: HttpClient\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.selectedMails = [];\r\n        this.onMailsChanged = new BehaviorSubject([]);\r\n        this.onSelectedMailsChanged = new BehaviorSubject([]);\r\n        this.onCurrentMailChanged = new BehaviorSubject([]);\r\n        this.onFoldersChanged = new BehaviorSubject([]);\r\n        this.onFiltersChanged = new BehaviorSubject([]);\r\n        this.onLabelsChanged = new BehaviorSubject([]);\r\n        this.onSearchTextChanged = new BehaviorSubject('');\r\n    }\r\n\r\n    /**\r\n     * Resolver\r\n     *\r\n     * @param {ActivatedRouteSnapshot} route\r\n     * @param {RouterStateSnapshot} state\r\n     * @returns {Observable<any> | Promise<any> | any}\r\n     */\r\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> | Promise<any> | any\r\n    {\r\n        this.routeParams = route.params;\r\n\r\n        return new Promise((resolve, reject) => {\r\n            Promise.all([\r\n                this.getFolders(),\r\n                this.getFilters(),\r\n                this.getLabels(),\r\n                this.getMails()\r\n            ]).then(\r\n                () => {\r\n                    if ( this.routeParams.mailId )\r\n                    {\r\n                        this.setCurrentMail(this.routeParams.mailId);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.setCurrentMail(null);\r\n                    }\r\n\r\n                    this.onSearchTextChanged.subscribe(searchText => {\r\n                        if ( searchText !== '' )\r\n                        {\r\n                            this.searchText = searchText;\r\n                            this.getMails();\r\n                        }\r\n                        else\r\n                        {\r\n                            this.searchText = searchText;\r\n                            this.getMails();\r\n                        }\r\n                    });\r\n\r\n                    resolve();\r\n                },\r\n                reject\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get all folders\r\n     *\r\n     * @returns {Promise<any>}\r\n     */\r\n    getFolders(): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/mail-folders')\r\n                .subscribe((response: any) => {\r\n                    this.folders = response;\r\n                    this.onFoldersChanged.next(this.folders);\r\n                    resolve(this.folders);\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get all filters\r\n     *\r\n     * @returns {Promise<any>}\r\n     */\r\n    getFilters(): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/mail-filters')\r\n                .subscribe((response: any) => {\r\n                    this.filters = response;\r\n                    this.onFiltersChanged.next(this.filters);\r\n                    resolve(this.filters);\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get all labels\r\n     *\r\n     * @returns {Promise<any>}\r\n     */\r\n    getLabels(): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/mail-labels')\r\n                .subscribe((response: any) => {\r\n                    this.labels = response;\r\n                    this.onLabelsChanged.next(this.labels);\r\n                    resolve(this.labels);\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get all mails\r\n     *\r\n     * @returns {Promise<Mail[]>}\r\n     */\r\n    getMails(): Promise<Mail[]>\r\n    {\r\n        if ( this.routeParams.labelHandle )\r\n        {\r\n            return this.getMailsByLabel(this.routeParams.labelHandle);\r\n        }\r\n\r\n        if ( this.routeParams.filterHandle )\r\n        {\r\n            return this.getMailsByFilter(this.routeParams.filterHandle);\r\n        }\r\n\r\n        return this.getMailsByFolder(this.routeParams.folderHandle);\r\n    }\r\n\r\n    /**\r\n     * Get mails by folder\r\n     *\r\n     * @param handle\r\n     * @returns {Promise<Mail[]>}\r\n     */\r\n    getMailsByFolder(handle): Promise<Mail[]>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            this._httpClient.get('api/mail-folders?handle=' + handle)\r\n                .subscribe((folders: any) => {\r\n\r\n                    const folderId = folders[0].id;\r\n\r\n                    this._httpClient.get('api/mail-mails?folder=' + folderId)\r\n                        .subscribe((mails: any) => {\r\n\r\n                            this.mails = mails.map(mail => {\r\n                                return new Mail(mail);\r\n                            });\r\n\r\n                            this.mails = FuseUtils.filterArrayByString(this.mails, this.searchText);\r\n\r\n                            this.onMailsChanged.next(this.mails);\r\n\r\n                            resolve(this.mails);\r\n\r\n                        }, reject);\r\n                });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get mails by filter\r\n     *\r\n     * @param handle\r\n     * @returns {Promise<Mail[]>}\r\n     */\r\n    getMailsByFilter(handle): Promise<Mail[]>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            this._httpClient.get('api/mail-mails?' + handle + '=true')\r\n                .subscribe((mails: any) => {\r\n\r\n                    this.mails = mails.map(mail => {\r\n                        return new Mail(mail);\r\n                    });\r\n\r\n                    this.mails = FuseUtils.filterArrayByString(this.mails, this.searchText);\r\n\r\n                    this.onMailsChanged.next(this.mails);\r\n\r\n                    resolve(this.mails);\r\n\r\n                }, reject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get mails by label\r\n     *\r\n     * @param handle\r\n     * @returns {Promise<Mail[]>}\r\n     */\r\n    getMailsByLabel(handle): Promise<Mail[]>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('api/mail-labels?handle=' + handle)\r\n                .subscribe((labels: any) => {\r\n\r\n                    const labelId = labels[0].id;\r\n\r\n                    this._httpClient.get('api/mail-mails?labels=' + labelId)\r\n                        .subscribe((mails: any) => {\r\n\r\n                            this.mails = mails.map(mail => {\r\n                                return new Mail(mail);\r\n                            });\r\n\r\n                            this.mails = FuseUtils.filterArrayByString(this.mails, this.searchText);\r\n\r\n                            this.onMailsChanged.next(this.mails);\r\n\r\n                            resolve(this.mails);\r\n\r\n                        }, reject);\r\n                });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Toggle selected mail by id\r\n     *\r\n     * @param id\r\n     */\r\n    toggleSelectedMail(id): void\r\n    {\r\n        // First, check if we already have that mail as selected...\r\n        if ( this.selectedMails.length > 0 )\r\n        {\r\n            for ( const mail of this.selectedMails )\r\n            {\r\n                // ...delete the selected mail\r\n                if ( mail.id === id )\r\n                {\r\n                    const index = this.selectedMails.indexOf(mail);\r\n\r\n                    if ( index !== -1 )\r\n                    {\r\n                        this.selectedMails.splice(index, 1);\r\n\r\n                        // Trigger the next event\r\n                        this.onSelectedMailsChanged.next(this.selectedMails);\r\n\r\n                        // Return\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // If we don't have it, push as selected\r\n        this.selectedMails.push(\r\n            this.mails.find(mail => {\r\n                return mail.id === id;\r\n            })\r\n        );\r\n\r\n        // Trigger the next event\r\n        this.onSelectedMailsChanged.next(this.selectedMails);\r\n    }\r\n\r\n    /**\r\n     * Toggle select all\r\n     */\r\n    toggleSelectAll(): void\r\n    {\r\n        if ( this.selectedMails.length > 0 )\r\n        {\r\n            this.deselectMails();\r\n        }\r\n        else\r\n        {\r\n            this.selectMails();\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Select mails\r\n     *\r\n     * @param filterParameter\r\n     * @param filterValue\r\n     */\r\n    selectMails(filterParameter?, filterValue?): void\r\n    {\r\n        this.selectedMails = [];\r\n\r\n        // If there is no filter, select all mails\r\n        if ( filterParameter === undefined || filterValue === undefined )\r\n        {\r\n            this.selectedMails = this.mails;\r\n        }\r\n        else\r\n        {\r\n            this.selectedMails.push(...\r\n                this.mails.filter(mail => {\r\n                    return mail[filterParameter] === filterValue;\r\n                })\r\n            );\r\n        }\r\n\r\n        // Trigger the next event\r\n        this.onSelectedMailsChanged.next(this.selectedMails);\r\n    }\r\n\r\n    /**\r\n     * Deselect mails\r\n     */\r\n    deselectMails(): void\r\n    {\r\n        this.selectedMails = [];\r\n\r\n        // Trigger the next event\r\n        this.onSelectedMailsChanged.next(this.selectedMails);\r\n    }\r\n\r\n    /**\r\n     * Set current mail by id\r\n     *\r\n     * @param id\r\n     */\r\n    setCurrentMail(id): void\r\n    {\r\n        this.currentMail = this.mails.find(mail => {\r\n            return mail.id === id;\r\n        });\r\n\r\n        this.onCurrentMailChanged.next(this.currentMail);\r\n    }\r\n\r\n    /**\r\n     * Toggle label on selected mails\r\n     *\r\n     * @param labelId\r\n     */\r\n    toggleLabelOnSelectedMails(labelId): void\r\n    {\r\n        this.selectedMails.map(mail => {\r\n\r\n            const index = mail.labels.indexOf(labelId);\r\n\r\n            if ( index !== -1 )\r\n            {\r\n                mail.labels.splice(index, 1);\r\n            }\r\n            else\r\n            {\r\n                mail.labels.push(labelId);\r\n            }\r\n\r\n            this.updateMail(mail);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set folder on selected mails\r\n     *\r\n     * @param folderId\r\n     */\r\n    setFolderOnSelectedMails(folderId): void\r\n    {\r\n        this.selectedMails.map(mail => {\r\n            mail.folder = folderId;\r\n\r\n            this.updateMail(mail);\r\n        });\r\n\r\n        this.deselectMails();\r\n    }\r\n\r\n    /**\r\n     * Update the mail\r\n     *\r\n     * @param mail\r\n     * @returns {Promise<any>}\r\n     */\r\n    updateMail(mail): Promise<any>\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            this._httpClient.post('api/mail-mails/' + mail.id, {...mail})\r\n                .subscribe(response => {\r\n\r\n                    this.getMails().then(mails => {\r\n\r\n                        if ( mails && this.currentMail )\r\n                        {\r\n                            this.setCurrentMail(this.currentMail.id);\r\n                        }\r\n\r\n                        resolve(mails);\r\n\r\n                    }, reject);\r\n                });\r\n        });\r\n    }\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { fuseAnimations } from '@fuse/animations';\r\n\r\nimport { MailService } from 'app/main/apps/mail/mail.service';\r\nimport { MailComposeDialogComponent } from 'app/main/apps/mail/dialogs/compose/compose.component';\r\n\r\n@Component({\r\n    selector     : 'mail-main-sidebar',\r\n    templateUrl  : './main-sidebar.component.html',\r\n    styleUrls    : ['./main-sidebar.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    animations   : fuseAnimations\r\n})\r\nexport class MailMainSidebarComponent implements OnInit, OnDestroy\r\n{\r\n    folders: any[];\r\n    filters: any[];\r\n    labels: any[];\r\n    accounts: object;\r\n    selectedAccount: string;\r\n    dialogRef: any;\r\n\r\n    // Private\r\n    private _unsubscribeAll: Subject<any>;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {MailService} _mailService\r\n     * @param {MatDialog} _matDialog\r\n     */\r\n    constructor(\r\n        private _mailService: MailService,\r\n        public _matDialog: MatDialog\r\n    )\r\n    {\r\n        // Set the defaults\r\n        this.accounts = {\r\n            creapond    : 'johndoe@creapond.com',\r\n            withinpixels: 'johndoe@withinpixels.com'\r\n        };\r\n        this.selectedAccount = 'creapond';\r\n\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit(): void\r\n    {\r\n        this._mailService.onFoldersChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(folders => {\r\n                this.folders = folders;\r\n            });\r\n\r\n        this._mailService.onFiltersChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(filters => {\r\n                this.filters = filters;\r\n            });\r\n\r\n        this._mailService.onLabelsChanged\r\n            .pipe(takeUntil(this._unsubscribeAll))\r\n            .subscribe(labels => {\r\n                this.labels = labels;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy(): void\r\n    {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n\r\n    // -----------------------------------------------------------------------------------------------------\r\n    // @ Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Compose dialog\r\n     */\r\n    composeDialog(): void\r\n    {\r\n        this.dialogRef = this._matDialog.open(MailComposeDialogComponent, {\r\n            panelClass: 'mail-compose-dialog'\r\n        });\r\n        this.dialogRef.afterClosed()\r\n            .subscribe(response => {\r\n                if ( !response )\r\n                {\r\n                    return;\r\n                }\r\n                const actionType: string = response[0];\r\n                const formData: FormGroup = response[1];\r\n                switch ( actionType )\r\n                {\r\n                    /**\r\n                     * Send\r\n                     */\r\n                    case 'send':\r\n                        console.log('new Mail', formData.getRawValue());\r\n                        break;\r\n                    /**\r\n                     * Delete\r\n                     */\r\n                    case 'delete':\r\n                        console.log('delete Mail');\r\n                        break;\r\n                }\r\n            });\r\n    }\r\n}\r\n","<!-- SIDEBAR HEADER -->\r\n<div fxLayout=\"column\" fxLayoutAlign=\"space-between start\"\r\n     class=\"header accent p-24 pb-4\">\r\n\r\n    <div class=\"logo\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <mat-icon class=\"logo-icon s-32\" [@animate]=\"{value:'*',params:{delay:'50ms',scale:'0.2'}}\">mail\r\n        </mat-icon>\r\n        <span class=\"logo-text\" [@animate]=\"{value:'*',params:{delay:'100ms',x:'-25px'}}\">Mailbox</span>\r\n    </div>\r\n\r\n    <div class=\"account\" fxLayout=\"column\" [@animate]=\"{value:'*',params:{delay:'300ms'}}\">\r\n        <div class=\"title\">John Doe</div>\r\n        <mat-form-field floatLabel=\"never\">\r\n            <mat-select class=\"account-selection\" placeholder=\"Mail Selection\"\r\n                        [ngModel]=\"selectedAccount\">\r\n                <mat-option *ngFor=\"let account of (accounts | keys)\" [value]=\"account.key\">\r\n                    {{account.value}}\r\n                </mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n    </div>\r\n\r\n</div>\r\n<!-- / SIDEBAR HEADER -->\r\n\r\n<!-- SIDEBAR CONTENT -->\r\n<div class=\"content\" fusePerfectScrollbar [@animate]=\"{value:'*',params:{y:'50px'}}\">\r\n\r\n    <div class=\"px-24 pt-32 pb-12\">\r\n        <button mat-raised-button\r\n                class=\"mat-accent compose-dialog-button w-100-p\"\r\n                (click)=\"composeDialog()\"\r\n                aria-label=\"Compose\">\r\n            {{ 'MAIL.COMPOSE' | translate }}\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"nav material2\">\r\n\r\n        <div class=\"nav-subheader\">{{ 'MAIL.FOLDERS' | translate }}</div>\r\n\r\n        <div class=\"nav-item\" *ngFor=\"let folder of folders\">\r\n            <a class=\"nav-link\" matRipple [routerLink]=\"'/apps/mail/' + folder.handle\"\r\n               [routerLinkActive]=\"['active', 'accent']\">\r\n                <mat-icon class=\"nav-link-icon\" *ngIf=\"folder.icon\">{{folder.icon}}</mat-icon>\r\n                <span>{{folder.title}}</span>\r\n            </a>\r\n        </div>\r\n\r\n        <div class=\"nav-subheader\">{{ 'MAIL.FILTERS' | translate }}</div>\r\n\r\n        <div class=\"nav-item\" *ngFor=\"let filter of filters\">\r\n            <a class=\"nav-link\" matRipple [routerLink]=\"'/apps/mail/filter/' + filter.handle\"\r\n               [routerLinkActive]=\"['active', 'accent']\">\r\n                <mat-icon class=\"nav-link-icon\" [ngClass]=\"filter.color\" *ngIf=\"filter.icon\">{{filter.icon}}</mat-icon>\r\n                <span>{{filter.title}}</span>\r\n            </a>\r\n        </div>\r\n\r\n        <div class=\"nav-subheader\">{{ 'MAIL.LABELS' | translate }}</div>\r\n\r\n        <div class=\"nav-item\" *ngFor=\"let label of labels\">\r\n            <a class=\"nav-link\" matRipple [routerLink]=\"'/apps/mail/label/' + label.handle\"\r\n               [routerLinkActive]=\"['active', 'accent']\">\r\n                <mat-icon class=\"nav-link-icon\" [ngStyle]=\"{'color':label.color}\">label</mat-icon>\r\n                <span>{{label.title}}</span>\r\n            </a>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n<!-- / SIDEBAR CONTENT -->\r\n"]}